(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Yj9t:function(r,t,o){"use strict";o.r(t),o.d(t,"AuthModule",(function(){return U}));var e=o("ofXK"),s=o("tyNb"),n=o("3Pt+"),i=o("/WaZ"),a=o("fXoL"),c=o("l7P3"),m=o("MSSf"),b=o("G/Ji"),l=o("IRfi"),u=o("A2Vd"),d=o("Xlwt"),g=o("3uU/");function f(r,t){1&r&&(a.Qb(0,"div",4),a.Lb(1,"mat-spinner"),a.Pb())}function h(r,t){if(1&r&&(a.Qb(0,"mat-error"),a.zc(1),a.Pb()),2&r){const r=a.bc(2);a.zb(1),a.Ac(r.getErrorMessage("email"))}}function p(r,t){if(1&r&&(a.Qb(0,"mat-error"),a.zc(1),a.Pb()),2&r){const r=a.bc(2);a.zb(1),a.Ac(r.getErrorMessage("password"))}}function P(r,t){if(1&r&&(a.Qb(0,"mat-error",14),a.zc(1),a.Pb()),2&r){const r=a.bc(2);a.zb(1),a.Ac(r.getLoginError())}}function w(r,t){if(1&r){const r=a.Rb();a.Qb(0,"div"),a.Qb(1,"mat-card-title"),a.zc(2," Sign-In "),a.Pb(),a.Qb(3,"form",5),a.Xb("ngSubmit",(function(){return a.pc(r),a.bc().onSubmit()})),a.Qb(4,"mat-card-content"),a.Qb(5,"mat-form-field",6),a.Qb(6,"mat-label"),a.zc(7,"Email"),a.Pb(),a.Lb(8,"input",7),a.xc(9,h,2,1,"mat-error",3),a.Pb(),a.Qb(10,"mat-form-field",6),a.Qb(11,"mat-label"),a.zc(12,"Password"),a.Pb(),a.Lb(13,"input",8),a.xc(14,p,2,1,"mat-error",3),a.Pb(),a.Qb(15,"p"),a.Qb(16,"span",9),a.zc(17,"Forgot Password?"),a.Pb(),a.Pb(),a.Pb(),a.Qb(18,"mat-card-actions"),a.Qb(19,"button",10),a.zc(20,"Sign In"),a.Pb(),a.xc(21,P,2,1,"mat-error",11),a.Pb(),a.Pb(),a.Lb(22,"mat-divider"),a.Qb(23,"mat-card-footer"),a.Qb(24,"p",12),a.Qb(25,"a",13),a.zc(26,"Register Here! "),a.Pb(),a.Pb(),a.Pb(),a.Pb()}if(2&r){const r=a.bc();a.zb(3),a.hc("formGroup",r.signInform),a.zb(6),a.hc("ngIf",r.getFormControls().email.errors),a.zb(5),a.hc("ngIf",r.getFormControls().email.errors),a.zb(7),a.hc("ngIf",r.isError())}}function v(r,t){1&r&&(a.Qb(0,"div",4),a.Lb(1,"mat-spinner"),a.Pb())}function z(r,t){if(1&r&&(a.Qb(0,"mat-error"),a.zc(1),a.Pb()),2&r){const r=a.bc(2);a.zb(1),a.Ac(r.getErrorMessage("name"))}}function E(r,t){if(1&r&&(a.Qb(0,"mat-error"),a.zc(1),a.Pb()),2&r){const r=a.bc(2);a.zb(1),a.Bc(" ",r.getFormControls().name.errors.serverError," ")}}function Q(r,t){if(1&r&&(a.Qb(0,"mat-error"),a.zc(1),a.Pb()),2&r){const r=a.bc(2);a.zb(1),a.Ac(r.getErrorMessage("email"))}}function C(r,t){if(1&r&&(a.Qb(0,"mat-error"),a.zc(1),a.Pb()),2&r){const r=a.bc(2);a.zb(1),a.Bc(" ",r.getFormControls().email.errors.serverError," ")}}function I(r,t){if(1&r&&(a.Qb(0,"mat-error"),a.zc(1),a.Pb()),2&r){const r=a.bc(2);a.zb(1),a.Ac(r.getErrorMessage("password"))}}function y(r,t){if(1&r&&(a.Qb(0,"mat-error"),a.zc(1),a.Pb()),2&r){const r=a.bc(2);a.zb(1),a.Bc(" ",r.getFormControls().password.errors.serverError," ")}}function x(r,t){if(1&r&&(a.Qb(0,"mat-error"),a.zc(1),a.Pb()),2&r){const r=a.bc(2);a.zb(1),a.Ac(r.getErrorMessage("cPassword"))}}function L(r,t){if(1&r&&(a.Qb(0,"mat-error"),a.zc(1),a.Pb()),2&r){const r=a.bc(2);a.zb(1),a.Bc(" ",r.getFormControls().cPassword.errors.serverError," ")}}function F(r,t){if(1&r){const r=a.Rb();a.Qb(0,"div"),a.Qb(1,"mat-card-title"),a.zc(2," Register "),a.Pb(),a.Qb(3,"form",5),a.Xb("ngSubmit",(function(){return a.pc(r),a.bc().onSubmit()})),a.Qb(4,"mat-card-content"),a.Qb(5,"mat-form-field",6),a.Qb(6,"mat-label"),a.zc(7,"Name"),a.Pb(),a.Lb(8,"input",7),a.xc(9,z,2,1,"mat-error",3),a.xc(10,E,2,1,"mat-error",3),a.Pb(),a.Qb(11,"mat-form-field",6),a.Qb(12,"mat-label"),a.zc(13,"Email"),a.Pb(),a.Lb(14,"input",8),a.xc(15,Q,2,1,"mat-error",3),a.xc(16,C,2,1,"mat-error",3),a.Pb(),a.Qb(17,"mat-form-field",6),a.Qb(18,"mat-label"),a.zc(19,"Password"),a.Pb(),a.Lb(20,"input",9),a.xc(21,I,2,1,"mat-error",3),a.xc(22,y,2,1,"mat-error",3),a.Pb(),a.Qb(23,"mat-form-field",6),a.Qb(24,"mat-label"),a.zc(25,"Confirm Password"),a.Pb(),a.Lb(26,"input",10),a.xc(27,x,2,1,"mat-error",3),a.xc(28,L,2,1,"mat-error",3),a.Pb(),a.Pb(),a.Qb(29,"mat-card-actions"),a.Qb(30,"button",11),a.zc(31,"Register"),a.Pb(),a.Pb(),a.Pb(),a.Lb(32,"mat-divider"),a.Qb(33,"mat-card-footer"),a.Qb(34,"p",12),a.Qb(35,"a",13),a.zc(36," Back to login? "),a.Pb(),a.Pb(),a.Pb(),a.Pb()}if(2&r){const r=a.bc();a.zb(3),a.hc("formGroup",r.signUpform),a.zb(6),a.hc("ngIf",r.getFormControls().name.errors),a.zb(1),a.hc("ngIf",null==r.getFormControls().name.errors?null:r.getFormControls().name.errors.serverError),a.zb(5),a.hc("ngIf",r.getFormControls().email.errors),a.zb(1),a.hc("ngIf",null==r.getFormControls().email.errors?null:r.getFormControls().email.errors.serverError),a.zb(5),a.hc("ngIf",r.getFormControls().password.errors),a.zb(1),a.hc("ngIf",null==r.getFormControls().password.errors?null:r.getFormControls().password.errors.serverError),a.zb(5),a.hc("ngIf",r.getFormControls().cPassword.errors),a.zb(1),a.hc("ngIf",null==r.getFormControls().cPassword.errors?null:r.getFormControls().cPassword.errors.serverError)}}const M=[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"signin",component:(()=>{class r{constructor(r,t){this.formBuilder=r,this.store=t}ngOnDestroy(){this.storeSub&&this.storeSub.unsubscribe()}ngOnInit(){this.signInform=this.formBuilder.group({email:["",[n.o.required,n.o.email]],password:["",[n.o.required,n.o.minLength(8)]]}),this.storeSub=this.store.select("auth").subscribe(r=>{this.error=r.authError,this.isLoadingResult=r.loading})}onSubmit(){this.signInform.invalid||this.store.dispatch(i.c({userEmail:this.signInform.value.email,password:this.signInform.value.password}))}getFormControls(){return this.signInform.controls}getErrorMessage(r){const t=this.getFormControls()[r];return t.hasError("required")?"Required Field":t.hasError("email")?"Enter a valid email":t.hasError("minlength")?"Password must be minimum 8 characters":void 0}isError(){return!!this.error}getLoginError(){return this.error}isLoading(){return this.isLoadingResult}}return r.\u0275fac=function(t){return new(t||r)(a.Kb(n.c),a.Kb(c.h))},r.\u0275cmp=a.Eb({type:r,selectors:[["app-signin"]],decls:5,vars:2,consts:[[1,"row"],[1,"col-sm-12","flex","justify-content-center","my-2","p-3"],["class","col-sm-12 flex justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"col-sm-12","flex","justify-content-center"],[3,"formGroup","ngSubmit"],["color","accent",1,"full-width"],["formControlName","email","matInput","","type","email","placeholder","example@example.com","value",""],["formControlName","password","matInput","","type","password","placeholder","","value",""],[2,"font-size","1.2rem"],["mat-raised-button","","color","accent","type","submit"],["class","pt-1",4,"ngIf"],[1,"mat-f-m"],["routerLink","/auth/register",2,"font-size","1.4rem"],[1,"pt-1"]],template:function(r,t){1&r&&(a.Qb(0,"div",0),a.Qb(1,"div",1),a.Qb(2,"mat-card"),a.xc(3,f,2,0,"div",2),a.xc(4,w,27,4,"div",3),a.Pb(),a.Pb(),a.Pb()),2&r&&(a.zb(3),a.hc("ngIf",t.isLoading()),a.zb(1),a.hc("ngIf",!t.isLoading()))},directives:[m.a,e.k,b.b,m.h,n.p,n.k,n.e,m.c,l.b,l.e,n.a,u.a,n.j,n.d,m.b,d.b,g.a,m.d,s.j,l.a],styles:["mat-card[_ngcontent-%COMP%]{width:-webkit-min-content;width:-moz-min-content;width:min-content}.mat-f-m[_ngcontent-%COMP%]{margin:2rem 1rem}a[_ngcontent-%COMP%]:hover{color:#f5f5f5}@media screen and (min-width:500px){mat-card[_ngcontent-%COMP%]{width:40%}}"]}),r})(),data:{animation:"SigninPage"}},{path:"register",component:(()=>{class r{constructor(r,t){this.formBuilder=r,this.store=t}ngOnInit(){this.signUpform=this.formBuilder.group({email:["",[n.o.required,n.o.email]],name:["",[n.o.required]],password:["",[n.o.required,n.o.minLength(8)]],cPassword:["",[n.o.required]]},{validator:r=>{const t=r.controls.cPassword;t.errors&&!t.errors.mustMatch||t.setErrors(r.controls.password.value!==t.value?{mustMatch:!0}:null)}}),this.storeSub=this.store.select("auth").subscribe(r=>{this.error=r.signUpError?r.signUpError:[],this.isLoadingResult=r.loading,r.isLoaded&&this.parseError()}),this.signUpform.get("email").valueChanges.subscribe(r=>{const t=this.signUpform.get("email");t.hasError("serverError")&&t.setErrors(null)}),this.signUpform.get("name").valueChanges.subscribe(r=>{const t=this.signUpform.get("name");t.hasError("serverError")&&t.setErrors(null)}),this.signUpform.get("password").valueChanges.subscribe(r=>{const t=this.signUpform.get("password");t.hasError("serverError")&&t.setErrors(null)}),this.signUpform.get("cPassword").valueChanges.subscribe(r=>{const t=this.signUpform.get("cPassword");t.hasError("serverError")&&t.setErrors(null)})}ngOnDestroy(){this.storeSub&&this.storeSub.unsubscribe()}onSubmit(){this.signUpform.invalid||this.store.dispatch(i.g({email:this.signUpform.value.email,name:this.signUpform.value.name,password:this.signUpform.value.password,cPassword:this.signUpform.value.cPassword}))}getFormControls(){return this.signUpform.controls}getErrorMessage(r){const t=this.getFormControls()[r];return t?t.hasError("required")?"Required Field":t.hasError("email")?"Enter a valid email":t.hasError("minlength")?"Password must be minimum 8 characters":t.hasError("mustMatch")?"Password must match":void 0:""}isError(){return this.error.length>0}isLoading(){return this.isLoadingResult}parseError(){Object.entries(this.error).forEach(r=>{const t=JSON.parse(JSON.stringify(r[1])),o=this.signUpform.get(t.param);o&&(o.setValidators([this.serverValidator(t.msg)]),o.updateValueAndValidity())}),console.log(this.signUpform)}serverValidator(r){return t=>({serverError:r})}}return r.\u0275fac=function(t){return new(t||r)(a.Kb(n.c),a.Kb(c.h))},r.\u0275cmp=a.Eb({type:r,selectors:[["app-signup"]],decls:5,vars:2,consts:[[1,"row"],[1,"col-sm-12","flex","justify-content-center","my-2","p-3"],["class","col-sm-12 flex justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"col-sm-12","flex","justify-content-center"],[3,"formGroup","ngSubmit"],["color","accent",1,"full-width"],["formControlName","name","matInput","","type","text","placeholder","Jane Doe","value",""],["formControlName","email","matInput","","type","email","placeholder","example@example.com","value",""],["formControlName","password","matInput","","type","password","placeholder","","value",""],["formControlName","cPassword","matInput","","type","password","placeholder","","value",""],["mat-raised-button","","color","accent","type","submit"],[1,"mat-f-m"],["routerLink","/auth/signin",2,"font-size","1.4rem"]],template:function(r,t){1&r&&(a.Qb(0,"div",0),a.Qb(1,"div",1),a.Qb(2,"mat-card"),a.xc(3,v,2,0,"div",2),a.xc(4,F,37,9,"div",3),a.Pb(),a.Pb(),a.Pb()),2&r&&(a.zb(3),a.hc("ngIf",t.isLoading()),a.zb(1),a.hc("ngIf",!t.isLoading()))},directives:[m.a,e.k,b.b,m.h,n.p,n.k,n.e,m.c,l.b,l.e,n.a,u.a,n.j,n.d,m.b,d.b,g.a,m.d,s.j,l.a],styles:["mat-card[_ngcontent-%COMP%]{width:-webkit-min-content;width:-moz-min-content;width:min-content}.mat-f-m[_ngcontent-%COMP%]{margin:2rem 1rem}a[_ngcontent-%COMP%]:hover{color:#f5f5f5}@media screen and (min-width:500px){mat-card[_ngcontent-%COMP%]{width:40%}}"]}),r})(),data:{animation:"RegisterPage"}}];let S=(()=>{class r{}return r.\u0275mod=a.Ib({type:r}),r.\u0275inj=a.Hb({factory:function(t){return new(t||r)},imports:[[s.k.forChild(M)],s.k]}),r})(),U=(()=>{class r{}return r.\u0275mod=a.Ib({type:r}),r.\u0275inj=a.Hb({factory:function(t){return new(t||r)},imports:[[e.c,S,m.f,d.c,u.b,g.b,n.m,b.a]]}),r})()}}]);